# JavaScript æ­£åˆ™è¡¨è¾¾å¼

JS ä¸­æ­£åˆ™è¡¨è¾¾å¼ç›¸è¾ƒäºç­‰æ•ˆçš„å­—ç¬¦ä¸²è¿ç®—ï¼Œæœ‰æ˜¾è‘—çš„æ€§èƒ½ä¼˜åŠ¿

## JS ä¸­å¤„ç†æ­£åˆ™çš„æ–¹æ³•æœ‰ï¼š
- regexp.exec
- regexp.test
- string.match
- string.replace
- string.search
- string.split

## ä¸€æšæ —å­ğŸŒ°
```JavaScript

  var parse_url = /^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;

  var url = "http://www.ora.com:80/goodparts?q#fragment";
  var result = parse_url.exec(url);

  console.log(result); // ["http://www.ora.com:80/goodparts?q#fragment", "http", "//", "www.ora.com", "80", "goodparts", "q", "fragment", index: 0, input: "http://www.ora.com:80/goodparts?q#fragment", groups: undefined]

  var blanks = '                ';
  var names = ['url', 'schema', 'slash', 'host', 'port', 'path', 'query', 'hash'];

  for (let i = 0; i < names.length; i+= 1) {
    console.log(`${names[i]}: ${result[i]}`);
    // output
    /*
        url: http://www.ora.com:80/goodparts?q#fragment
        regex.html:27 schema: http
        regex.html:27 slash: //
        regex.html:27 host: www.ora.com
        regex.html:27 port: 80
        regex.html:27 path: goodparts
        regex.html:27 query: q
        regex.html:27 hash: fragment
      */
  }
  
```

### è§£æï¼š

`/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/`

- `(?:([A-Za-z]+):)?`

åŒ¹é…ä¸€ä¸ªåè®®åï¼Œä»¥ `:` ç»“å°¾çš„æ—¶å€™æ‰èƒ½åŒ¹é…ã€‚
`(?:...)` è¡¨ç¤ºä¸€ä¸ªéæ•è·å‹åˆ†ç»„ã€‚
åç¼€ `?` è¡¨ç¤ºåˆ†ç»„æ˜¯å¯é€‰çš„ï¼Œå®ƒè¡¨ç¤ºé‡å¤ 0 æ¬¡æˆ– 1 æ¬¡ã€‚

`(...)` è¡¨ç¤ºä¸€ä¸ªæ•è·å‹åˆ†ç»„ã€‚ä¸€ä¸ªæ•è·å‹åˆ†ç»„å°†å¤åˆ¶å®ƒæ‰€åŒ¹é…çš„æ–‡æœ¬ï¼Œå¹¶å°†å…¶æ”¾å…¥ `result` æ•°ç»„ä¸­ã€‚æ¯ä¸ªæ•è·å‹æ•°ç»„éƒ½å°†è¢«æŒ‡å®šä¸€ä¸ªç¼–å·ã€‚
ç¬¬ä¸€ä¸ªæ•è·å‹åˆ†ç»„çš„ç¼–å·æ˜¯ 1ï¼Œæ‰€ä»¥è¯¥åˆ†ç»„æ‰€åŒ¹é…çš„æ–‡æœ¬æ‹·è´å°†å‡ºç°åœ¨ `result[1]` ä¸­ã€‚

`[...]` è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ç±»ã€‚`A-Za-z` è¡¨ç¤º26ä¸ªå¤§å†™å­—æ¯å’Œ26ä¸ªå°å†™å­—æ¯ã€‚`-` è¿æ¥ç¬¦ï¼Œè¡¨ç¤ºèŒƒå›´ä» A åˆ° Zã€‚åç¼€ `+` è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦ç±»å°†è¢«åŒ¹é…ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚
æœ€åçš„ `:` å°†æŒ‰å­—é¢æ–‡å­—è¿›è¡ŒåŒ¹é…ã€‚

- `(\/{0, 3})` æ•è·å‹åˆ†ç»„ã€‚è¡¨ç¤º `/` å°†è¢«åŒ¹é… 0 åˆ° 3 æ¬¡ã€‚
- `([0-9.\-A-Za-z]+)` æ•è·å‹åˆ†ç»„ã€‚è¡¨ç¤ºåŒ¹é…ä¸€æ¬¡ä»¥ä¸Šçš„ç”± å­—æ¯ã€æ•°å­—ã€`.` ã€`-` ç»„æˆçš„å­—ç¬¦ä¸²ã€‚
- `(?::(\d+))?` éæ•è·å‹åˆ†ç»„ã€‚åŒ¹é… å‰ç¼€ `:` å’Œä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—ç»„æˆçš„å­—ç¬¦ä¸²ã€‚åç¼€ `?` è¡¨ç¤ºå¯é€‰ã€‚
- `(?:\/([^?#]*))?` éæ•è·å‹åˆ†ç»„ã€‚åŒ¹é…ä¸€ä¸ª `/` å¼€å§‹ï¼Œ`[^?#]` è¡¨ç¤ºé™¤äº† `?` å’Œ `#` çš„æ‰€æœ‰å­—ç¬¦ï¼Œ `*` è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦åŒ¹é… 0 æˆ–å¤šæ¬¡ã€‚åç¼€ `?` è¡¨ç¤ºå¯é€‰ã€‚
- `(?:\?([^#]*))?` éæ•è·å‹åˆ†ç»„ã€‚ä»¥ `?` å¼€å§‹ï¼ŒåŒ…å« 0 æˆ–å¤šä¸ªé `#` å­—ç¬¦ã€‚åç¼€ `?` è¡¨ç¤ºå¯é€‰ã€‚
- `(?:#(.*))?` éæ•è·å‹åˆ†ç»„ã€‚ä»¥ `#` å¼€å§‹ï¼Œä»»æ„å¤šä¸ªé™¤æ¢è¡Œç¬¦å¤–çš„å­—ç¬¦ã€‚`.` è¡¨ç¤ºéæ¢è¡Œç¬¦ `\n`ã€‚
- `$` è¡¨ç¤ºå­—ç¬¦ä¸²çš„ç»“æŸï¼Œä¹‹åä¸å†æœ‰å…¶å®ƒå†…å®¹ã€‚

## ç»“æ„

### æ­£åˆ™è¡¨è¾¾å¼æ ‡å¿—

- `g` å…¨å±€çš„ï¼ˆåŒ¹é…å¤šæ¬¡ï¼Œå‡†ç¡®å«ä¹‰éšæ–¹æ³•è€Œå˜ï¼‰
- `i` å¤§å°å†™ä¸æ•æ„Ÿ
- `m` å¤šè¡Œï¼ˆ^ å’Œ $ èƒ½åŒ¹é…è¡Œç»“æŸç¬¦ï¼‰

### åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•

- ä½¿ç”¨ä¸€å¯¹æ–œæ  â€˜/â€™ åŒ…å›´æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡
- ä½¿ç”¨ RegExp æ„é€ å™¨
`let regexp = new RegExp("\"(?:\\.|[^\\\\\\\"])*\"", 'g'); `

RegExp å¯¹è±¡å¯¹å±æ€§ï¼š

| å±æ€§ | ç”¨æ³• |
| ---- | ---- |
| global | å¦‚æœæ ‡å¿— g è¢«ä½¿ç”¨ï¼Œå€¼ä¸º true |
| ignoreCase | å¦‚æœæ ‡å¿— i è¢«ä½¿ç”¨ï¼Œå€¼ä¸º true |
| lastIndex | ä¸‹ä¸€æ¬¡ exec åŒ¹é…å¼€å§‹å¯¹ç´¢å¼•ã€‚åˆå§‹å€¼ 0 |
| multiline | å¦‚æœæ ‡å¿— m è¢«ä½¿ç”¨ï¼Œå€¼ä¸º true |
| source | æ­£åˆ™è¡¨è¾¾å¼æºä»£ç æ–‡æœ¬ |

## å…ƒç´ 

### æ­£åˆ™è¡¨è¾¾å¼é€‰æ‹©

ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼é€‰æ‹©åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼åºåˆ—ã€‚è¿™äº›åºåˆ—è¢« â€œ|â€ åˆ†éš”ã€‚å¦‚æœè¿™äº›åºåˆ—ä¸­å¯¹ä»»ä½•ä¸€é¡¹ç¬¦åˆåŒ¹é…æ¡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªé€‰æ‹©å°±è¢«åŒ¹é…ã€‚
æŒ‰é¡ºåºä¾æ¬¡åŒ¹é…è¿™äº›åºåˆ—é¡¹ã€‚
egï¼š `into.match(/in|int)` å°†åœ¨ into ä¸­åŒ¹é… in ä¸ä¼šåŒ¹é… int å› ä¸º in å·²ç»è¢«åŒ¹é…æˆåŠŸäº†ã€‚

### æ­£åˆ™è¡¨è¾¾å¼åºåˆ—

ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åºåˆ—åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼å› å­ã€‚æ¯ä¸ªå› å­èƒ½é€‰æ‹©æ˜¯å¦è·Ÿéšä¸€ä¸ªé‡è¯ï¼Œé‡è¯å†³å®šç€è¯¥å› å­èƒ½è¢«åŒ¹é…å‡ æ¬¡ã€‚æ²¡æœ‰æŒ‡å®šé‡è¯æ—¶ï¼Œè¯¥å› å­é»˜è®¤è¢«åŒ¹é…ä¸€æ¬¡ã€‚

### æ­£åˆ™è¡¨è¾¾å¼å› å­

ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å› å­å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ã€ä¸€ä¸ªç”±åœ†æ‹¬å·åŒ…å›´çš„ç»„ï¼Œä¸€ä¸ªå­—ç¬¦ç±»ï¼Œæˆ–è€…ä¸€ä¸ªå­—ç¬¦è½¬ä¹‰åºåˆ—ã€‚
é™¤äº†æ§åˆ¶å­—ç¬¦å’Œç‰¹æ®Šå­—ç¬¦å¤–ï¼Œæ‰€æœ‰çš„å­—ç¬¦éƒ½å°†è¢«æŒ‰ç…§å­—é¢å¤„ç†ã€‚

### æ­£åˆ™è¡¨è¾¾å¼è½¬ä¹‰

`\`

### æ­£åˆ™è¡¨è¾¾å¼åˆ†ç»„

- æ•è·å‹

ä¸€ä¸ªæ•è·å‹åˆ†ç»„æ˜¯ä¸€ä¸ªè¢«åœ†æ‹¬å·åŒ…å›´çš„æ­£åˆ™è¡¨è¾¾å¼é€‰æ‹©ã€‚ä»»ä½•åŒ¹é…è¿™ä¸ªåˆ†ç»„çš„å­—ç¬¦å°†è¢«æ•è·ã€‚æ¯ä¸ªæ•è·å‹åˆ†ç»„éƒ½æŒ‡å®šäº†ä¸€ä¸ªæ•°å­—ã€‚
åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ç¬¬ä¸€æ•è·çš„ï¼ˆ æ˜¯åˆ†ç»„ 1 ã€‚ç¬¬äºŒä¸ªæ•è·çš„ï¼ˆ æ˜¯åˆ†ç»„2 ã€‚

- éæ•è·å‹

éæ•è·å‹åˆ†ç»„æœ‰ä¸€ä¸ª `(?:` å‰ç¼€ã€‚éæ•è·å‹åˆ†ç»„ä»…åšç®€å•çš„åŒ¹é…ï¼Œå¹¶ä¸ä¼šæ•è·æ‰€åŒ¹é…æ–‡æœ¬ã€‚è¿™ä¼šæœ‰å¾®å¼±çš„æ€§èƒ½ä¼˜åŠ¿ã€‚éæ•è·å‹åˆ†ç»„ä¸ä¼šå¹²æ‰°æ•è·å‹åˆ†ç»„çš„ç¼–å·ã€‚

- å‘å‰æ­£å‘åŒ¹é…ï¼ˆPositive lookaheadï¼‰

å‘å‰æ­£å‘åŒ¹é…ç»„æœ‰ä¸€ä¸ª `(?=` å‰ç¼€ã€‚å®ƒç±»ä¼¼äºéæ•è·å‹åˆ†ç»„ï¼Œä½†åœ¨è¿™ä¸ªç»„åŒ¹é…åï¼Œæ–‡æœ¬å°†å€’å›åˆ°å®ƒå¼€å§‹çš„åœ°æ–¹ï¼Œå®é™…ä¸Šå¹¶ä¸åŒ¹é…ä»»ä½•ä¸œè¥¿ã€‚

- å‘å‰è´Ÿå‘åŒ¹é…ï¼ˆNegative lookaheadï¼‰

å‘å‰è´Ÿå‘åŒ¹é…åˆ†ç»„æœ‰ä¸€ä¸ª `(?!` å‰ç¼€ã€‚å®ƒç±»ä¼¼äºå‘å‰æ­£å‘åŒ¹é…åˆ†ç»„ï¼Œä½†åªæœ‰å®ƒåŒ¹é…å¤±è´¥æ—¶å®ƒæ‰è¿›è¡ŒåŒ¹é…ã€‚

egï¼š
`<div>line1</div><br>`
æ¯”å¦‚æˆ‘ä»¬è¦åŒ¹é…è¿™ä¸ªè¯­å¥ä¸­çš„`<`åé¢ä¸æ˜¯`<br>`çš„`<`ï¼š
æ­£åˆ™è¿™ä¹ˆå†™ï¼š`/<(?!br>)/` ã€‚
å¦‚æœåªåŒ¹é…åé¢ä¸º`br>` çš„ `<`ï¼š
æ­£åˆ™è¿™ä¹ˆå†™ï¼š`/<(?=br>)/` ã€‚

### æ­£åˆ™è¡¨è¾¾å¼ç±»

æ­£åˆ™è¡¨è¾¾å¼ç±»æ˜¯ä¸€ç§æŒ‡å®šä¸€ç»„å­—ç¬¦çš„ä¾¿åˆ©æ–¹å¼ã€‚

`[aeiou]` `(?:a|e|i|o|u)`

### æ­£åˆ™è¡¨è¾¾å¼ç±»è½¬ä¹‰

### æ­£åˆ™è¡¨è¾¾å¼é‡è¯

`/a{2}/`






